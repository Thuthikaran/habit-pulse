<!-- app/views/dashboard/index.html.erb -->
<div class="container container-dashboard">
  <h1>Welcome, <%= current_user.first_name %></h1>
  <% if current_user.habits.count > 0 %>
    <p class="text-active-habits fs-5">You have <%= current_user.habits.count %> active habits</p>
    <div class="scoreboard">
      <h2>Today's Habit Completion</h2>
      <p>Completed: <%= @completed_habits_today %> out of <%= @current_habit_total %> habits</p>
      <p>Completion Percentage: <%= @completion_percentage %>%</p>
      <link rel="stylesheet" href="style.css">
    </div>

    <div class="percentage-ring-container">
      <div class="percentage-ring" id="percentageRing">
        <div class="percentage-value" id="percentageValue" data-percentage="<%= @completion_percentage %>">%</div>
      </div>
    </div>
  <% else %>
    <div>
    <%= link_to new_habit_path, class: "text-decoration-none fs-5 pt-3 link-create-habit" do %>
      <i class="fa fa-plus me-2"></i> <span>Create a habit</span>
    <% end %>
    <div class ="text-center mt-5 text-no-habits fs-5">
        You have yet to create any habits
    </div>
    </div>
  <% end %>
</div>

<%= javascript_include_tag 'progressRing' %>
